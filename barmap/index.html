<!DOCTYPE html>
<html lang="ko">
<head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
    <!-- <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no"> -->
    <meta name="HandheldFriendly" content="true" />

    <meta content="origin-when-cross-origin" name="referrer">
    <title>ì² ë´‰ì—¬ì§€ë„</title>
    <link rel="apple-touch-icon" sizes="200x200" href="https://navermaps.github.io/maps.js.ncp/docs/img/logo_200x200.png">
    <link rel="canonical" href="https://navermaps.github.io/maps.js.ncp">
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-169641735-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-169641735-1');
    </script>


    <style>
        html {
            -ms-content-zooming: none;
            -ms-touch-action: pan-x pan-y;
        }
        body {
            margin: 0;
            padding: 0;
        }
        #wrap {
            height: 100vh;
        }
        #header {
            overflow: hidden;
            position: fixed;
            top: 0;
            width: 100%;
            height: 75px;
            margin: 0 auto;
            background: #fff;
            border-radius: 5px;
            z-index: 101;
        }
        .inner_header h1 {
            padding-left: 15px;
        }
        #container {
            height: 100%;
        }
        .api_position {
            width:100%;
            min-height: 500px;
            height: 100%;
        }
        #footer {
            overflow: hidden;
            position: fixed;
            bottom: 0;
            padding-top: 10px;
            padding-left: 10px;
            height: 75px;
            width: 100%;
            z-index: 100;
            background-color: #fff;
            font-size: 15px;
        }
        a {
            color: black;
        }
        a:link {
            color: black;
        }
        .float{
            position:fixed;
            width:60px;
            height:60px;
            bottom:40px;
            right:40px;
            background-color:#0C9;
            color:#FFF;
            border-radius:50px;
            text-align:center;
            box-shadow: 2px 2px 3px #999;
            font-size: 40px;
            z-index: 101;
        }
        .bar-img {
            max-width: 225px;
            max-height: 275px;
        }
        .infowindow {
            width: 225px;
            text-align: center;
            padding: 5px;
        }
    </style>
</head>
<body>
<div id="wrap">
    <button onclick="setCurrentPosition();" class="float">+</button>
    <!-- header -->
    <div id="header">
        <div class="inner_header">
            <h1>ì² ë´‰ì—¬ì§€ë„</h1>
        </div>
    </div>
    <!-- //header -->
    <!-- container -->
    <div id="container">
        <div id="map" class="api_position"></div>
    </div>
    <!-- footer -->
    <div id="footer">
        <div class="inner_footer">
            <div class="footer_copright">
            Author: <a href="https://eine.tistory.com/entry/%ED%8F%89%ED%96%89%EB%B4%89-%EB%B0%8F-%EC%B2%A0%EB%B4%89-%EC%A7%80%EB%8F%84-%EA%B0%9C%EB%B0%9C%EA%B8%B0" target="_blank">Einstrasse</a> / Issue Report: <a href="https://github.com/Einstrasse/einstrasse.github.io/issues">Click Here!</a> <br />ì² ë´‰ ì œë³´ ğŸ“§<a href="mailto:hg9587@naver.com">hg9587@naver.com</a><br /> [ìœ„ë„, ê²½ë„, ì‚¬ì§„, ê°„ë‹¨ ì„¤ëª…]
            </div>
        </div>
    </div>
    <!-- //footer -->
</div>

<script type="text/javascript" src="https://openapi.map.naver.com/openapi/v3/maps.js?ncpClientId=ef339sn8hq&submodules=panorama"></script>

<script>

    let HOME_PATH = window.HOME_PATH || '.';


    let MarkerData = [
        {
            "pos": [37.46, 127.02725],
            "img": "img/bar01.jpeg",
            "title": "ì£¼ì•”êµ ì² ë´‰",
            "detail": "ì–‘ì¬ì²œ ì¸ê·¼ ì£¼ì•”êµ ì•„ë˜ ì² ë´‰"
        }, 
        {
            "pos": [37.4783, 127.0425],
            "title": "ì–‘ì¬ì²œ ê·¼ë¦°ê³µì› ì² ë´‰(ìœ„ì¹˜ ë¶€ì •í™•í•¨, í™•ì¸ í•„ìš”)",
            "img": "img/bar02.jpeg",
            "detail": "ì˜ë™ 2êµ ê·¼ì²˜, íŒŒí¬ì„¼í„° ì• ì–‘ì¬ì²œ ê·¼ë¦°ê³µì› ì² ë´‰(ìœ„ì¹˜ ë¶€ì •í™•í•¨, í™•ì¸ í•„ìš”) (Reported by ì˜¤ëŒ€í™˜ë‹˜)"
        },
        {
            "pos": [37.4745, 127.0382],
            "title": "ì˜ë™1êµ í•˜ë¶€ ì² ë´‰",
            "img": "img/bar03.jpg",
            "detail": "ì˜ë™ 1êµ í•˜ë¶€ì— ìˆëŠ” ì² ë´‰ (Reported by ì˜¤ëŒ€í™˜ë‹˜)"
        },
        {
            "pos": [37.5275562, 127.1137921],
            "title": "í’ë‚© ë§ˆì„ ë§ˆë‹¹ ê³µì›",
            "img": "img/bar04.jpg",
            "detail": "ì„œìš¸ ì†¡íŒŒêµ¬ í’ë‚©ë™ í’ë‚© ë§ˆì„ ë§ˆë‹¹ ê³µì›ì˜ 3ë‹¨ ì² ë´‰"
        },
        {
            "pos": [37.4734107, 127.023167],
            "title": "ìš°ë©´ë™ ëŒ€ë¦¼ì•„íŒŒíŠ¸ ì² ë´‰",
            "img": "img/bar05.jpg",
            "detail": "ì„œì´ˆêµ¬ ìš°ë©´ë™ ëŒ€ë¦¼ì•„íŒŒíŠ¸ ì–´ë¦°ì´ë†€ì´í„°ì˜ 3ë‹¨ ì² ë´‰"
        },
        {
            "pos": [37.4730200, 127.0239804],
            "title": "ìš°ë©´ë™ ëŒ€ë¦¼ì•„íŒŒíŠ¸ ì² ë´‰2",
            "img": "img/bar06.jpg",
            "detail": "ì„œì´ˆêµ¬ ìš°ë©´ë™ ëŒ€ë¦¼ì•„íŒŒíŠ¸ 105ë™ 3,4ë¼ì¸ ì• ì–´ë¦°ì´ë†€ì´í„° 3ë‹¨ ì² ë´‰"
        },
        {
            "pos": [37.4701818, 127.030212],
            "title": "ë¬¸í™”ì˜ˆìˆ ê³µì› í‰í–‰ë´‰",
            "img": "img/bar07.jpg",
            "detail": "ì–‘ì¬ ë¬¸í™”ì˜ˆìˆ ê³µì› ì‚°ì±…ë¡œ í‰í–‰ë´‰"
        },
        {
            "pos": [37.4744501, 127.0345822],
            "title": "ë°”ìš°ë«¼ê³µì› í‰í–‰ë´‰ê³¼ ì² ë´‰",
            "img": "img/bar08.jpg",
            "detail": "ì–‘ì¬ ë°”ìš°ë«¼ê³µì› ê³„ë‹¨ìœ¼ë¡œ ì˜¬ë¼ê°€ë©´ìˆëŠ” í‰í–‰ë´‰ê³¼ 3ë‹¨ ì² ë´‰"
        }, 
        {
           "pos": [37.4661715, 127.01999943],
            "title": "ì„±í˜•ì´Œì–´ë¦°ì´ê³µì›",
            "img": "img/bar09.jpg",
            "detail": "ì„±í˜•ì´Œì–´ë¦°ì´ê³µì›ì˜ í‰í–‰ë´‰ê³¼ 3ë‹¨ì² ë´‰" 
        }, 
        {
           "pos": [37.4839085, 127.0511836],
            "title": "ì–‘ì¬ì²œ ì˜ë™3êµ ê·¼ì²˜ 3ë‹¨ ì² ë´‰",
            "img": "img/bar10.jpg",
            "detail": "ì–‘ì¬ì²œ ê·¼ì²˜ ê°œí¬í˜„ëŒ€2ì°¨ì•„íŒŒíŠ¸ì• ì–‘ì¬ì²œ ì¸ê·¼ 3ë‹¨ì² ë´‰" 
        }, 
        {
           "pos": [37.4754019, 127.041203],
            "title": "2ë‹¨ ê°„ì´ ì² ë´‰",
            "img": "img/bar11.jpg",
            "detail": "ì›°í‹´í¬ë¦¬ìŠ¤ì²œ êµ­ì œìŠ¤ì¿¨ ê·¼ì²˜ 2ë‹¨ ê°„ì´ ì² ë´‰" 
        }, 
        {
           "pos": [37.4726171, 127.0416496],
            "title": "ì–‘ì¬ê·¼ë¦°ê³µì› 3ë‹¨ì² ë´‰",
            "img": "img/bar12.jpg",
            "detail": "ì–‘ì¬ê·¼ë¦°ê³µì› ì¶•êµ¬ì¥ ì˜† 3ë‹¨ ì² ë´‰" 
        }, 
        {
           "pos": [37.5258509, 127.1154795],
            "title": "íƒœì–‘ê·¼ë¦°ê³µì› 3ë‹¨ì² ë´‰ê³¼ í‰í–‰ë´‰",
            "img": "img/bar13.jpg",
            "detail": "í’ë‚©ì¤‘í•™êµ ì˜† íƒœì–‘ê·¼ë¦°ê³µì›ì˜ 3ë‹¨ì² ë´‰ ë° í‰í–‰ë´‰" 
        }, 
        {
           "pos": [35.2294175, 129.0092651],
            "title": "ì½”ì˜¤ë¡±í•˜ëŠ˜ì±„í™”ëª…1ì°¨ì•„íŒŒíŠ¸ ê·¼ì²˜ ì² ë´‰ ë° í‰í–‰ë´‰",
            "img": "img/bar14.jpg",
            "detail": "ë¶€ì‚° í™”ëª…ë™ ì½”ì˜¤ë¡± í•˜ëŠ˜ì±„ í™”ëª…1ì°¨ ì•„íŒŒíŠ¸ ê·¼ì²˜ 3ê° ì² ë´‰ ë° í‰í–‰ë´‰" 
        }, 
        {
           "pos": [37.4736088, 127.0244388],
            "title": "ì•”ì‚°ë…¸ì¸ì • ë’¤ ì² ë´‰ ë° í‰í–‰ë´‰",
            "img": "img/bar15.jpg",
            "detail": "ì„œì´ˆêµ¬ ìš°ë©´ë™ ì•”ì‚° ë…¸ì¸ì • ë’¤ ì² ë´‰ ë° í‰í–‰ë´‰" 
        }, 
        {
           "pos": [37.3906068, 126.9578161],
            "title": "ì•ˆì–‘ì¤‘ì•™ê³µì› ì² ë´‰",
            "img": "img/bar16.jpg",
            "detail": "ë²”ê³„ì—­ ê·¼ì²˜ ì•ˆì–‘ì¤‘ì•™ê³µì› ì² ë´‰" 
        }, 
        {
           "pos": [37.3917558, 126.9605298],
            "title": "ì•ˆì–‘ì¤‘ì•™ê³µì› ì² ë´‰2",
            "img": "img/bar17.jpg",
            "detail": "í•œë¦¼ëŒ€í•™êµ ì„±ì‹¬ë³‘ì› ë¶€ê·¼ ì•ˆì–‘ì¤‘ì•™ê³µì› ì² ë´‰" 
        },
        {
            "pos": [37.5618121, 127.1584865],
            "title": "ê°•ë™êµ¬ ì² ë´‰",
            "img": "img/bar18.jpg",
            "detail": "ê°•ë™êµ¬ì— ìˆëŠ” ì² ë´‰"
        },
        {
            "pos": [37.5610292, 127.1604199],
            "title": "ê³ ë•ì¤‘ ì• ê°•ë™êµ¬ ì² ë´‰ê³µì›",
            "img": "img/bar19.jpg",
            "detail": "ê°•ë™êµ¬ ê³ ë•ì¤‘í•™êµ ë§ì€í¸ ì² ë´‰ê³µì›. ì² ë´‰ì¸ë“¤ì˜ ì„±ì§€"
        },
        {
            "pos": [35.2379914, 129.0097107],
            "title": "ë¶€ì‚° í™”ëª…ì—­ ê·¼ì²˜",
            "img": "img/bar20.jpg",
            "detail": "ë¶€ì‚° í™”ëª…ì—­ í™”ëª…ë™ ëŒ€ìš°ì´ì•ˆì•„íŒŒíŠ¸ ê·¼ì²˜ ì² ë´‰"
        },
        {
            "pos": [35.2392813, 129.0053147],
            "title": "ë¶€ì‚° í™”ëª…ì—­ ê·¼ì²˜",
            "img": "img/bar21.jpg",
            "detail": "ë¶€ì‚° í™”ëª…ì—­ í™”ëª…ë™ ê·¼ì²˜ ì² ë´‰"
        },
        {
            "pos": [35.237029, 129.0067421],
            "title": "ë¶€ì‚° í™”ëª…ì—­ ê·¼ì²˜",
            "img": "img/bar22.jpg",
            "detail": "ë™ë„¤ì²´ìœ¡ì‹œì„¤ í™”ëª…3ë™ ëŒ€ì²œì²œ í•˜ë¥˜"
        },
        {
            "pos": [35.2412603, 129.0097978],
            "title": "ë¶€ì‚° í™”ëª…ì—­ ê·¼ì²˜",
            "img": "img/bar23.jpg",
            "detail": "ë™ë„¤ì²´ìœ¡ì‹œì„¤ í™”ëª…3ë™ ëŒ€ì²œì²œ í•˜ë¥˜"
        },
        {
            "pos": [37.5241795, 127.0320455],
            "title": "ì‹ ì‚¬ ë¬´ê¶í™”ê³µì› 3ë‹¨ ì² ë´‰",
            "img": "img/bar24.jpg",
            "detail": "ì••êµ¬ì •ì—­ ê·¼ì²˜ ì‹ ì‚¬ë¬´ê¶í™”ê³µì› 3ë‹¨ ì² ë´‰"
        },
        {
            "pos": [37.3925769, 126.9073269],
            "title": "ì•ˆì–‘ 9ë™ ìƒˆë§ˆì„ì†Œê³µì› 2ë‹¨ì² ë´‰",
            "img": "img/bar25.jpg",
            "detail": "ì•ˆì–‘ 9ë™ ì£¼íƒê°€ ë‹¨ì§€ ì‚¬ì´ì— ìˆëŠ” ìƒˆë§ˆì„ì†Œê³µì› 2ë‹¨ ì² ë´‰"
        },
        {
            "pos": [37.3982221, 126.9164416],
            "title": "ì•ˆì–‘ë™ ì‚¼ë•ê³µì› 2ë‹¨ ê°„ì´ì² ë´‰",
            "img": "img/bar26.jpg",
            "detail": "ì•ˆì–‘4ë™ ì¤‘ì•™ì‹œì¥ ì¸ê·¼ ì‚¼ë•ê³µì›ì— ìœ„ì¹˜í•œ ê°„ì´ 2ë‹¨ ì² ë´‰"
        },
        {
            "pos": [37.383467, 126.932326],
            "title": "ëª…í•™ê³µì› í‰í–‰ë´‰",
            "img": "img/bar27.jpg",
            "detail": "ì•ˆì–‘8ë™ í–‰ì •ë³µì§€ ì„¼í„° ì• ëª…í•™ê³µì› í‰í–‰ë´‰"
        },
        {
            "pos": [37.3834972, 126.9322503],
            "title": "ëª…í•™ê³µì› ì² ë´‰",
            "img": "img/bar28.jpg",
            "detail": "ì•ˆì–‘8ë™ í–‰ì •ë³µì§€ ì„¼í„° ì• ëª…í•™ê³µì› ì² ë´‰"
        },
        {
            "pos": [37.4033845, 126.9185934],
            "title": "ì•ˆì–‘2ë™ í–‰ì •ë³µì§€ì„¼í„° ê·¼ì²˜ í‰í–‰ë´‰",
            "img": "img/bar29.jpg",
            "detail": "ì•ˆì–‘ 2ë™ í–‰ì •ë³µì§€ì„¼í„° ê·¼ì²˜ ì²­ì›ì–´ë¦°ì´ ê³µì› ë‚´ì— ìˆëŠ” í‰í–‰ë´‰ì…ë‹ˆë‹¤. ì›ë˜ ì² ë´‰ë„ ìˆì—ˆëŠ”ë° ì² ê±° ë˜ì—ˆë„¤ìš”."
        },
        {
            "pos": [37.401186, 126.9085324],
            "title": "ë°•ë‹¬ê³µì› 3ë‹¨ ì² ë´‰",
            "img": "img/bar30.jpg",
            "detail": "ë°•ë‹¬1ë™ ìš°ì„±ì•„íŒŒíŠ¸ ì• ë°•ë‹¬ê³µì›ì— ìˆëŠ” 3ë‹¨ ì² ë´‰"
        },
        {
            "pos": [37.4012109, 126.9083996],
            "title": "ë°•ë‹¬ê³µì› 3ë‹¨ í‰í–‰ë´‰",
            "img": "img/bar31.jpg",
            "detail": "ë°•ë‹¬1ë™ ìš°ì„±ì•„íŒŒíŠ¸ ì• ë°•ë‹¬ê³µì›ì— ìˆëŠ” 3ë‹¨ í‰í–‰ë´‰"
        },
        {
            "pos": [37.4088332, 126.8954048],
            "title": "ì„ìˆ˜ë™ ì¶©í›ˆë¶€ ì²­ë€ê³µì› 2ë‹¨ì² ë´‰",
            "img": "img/bar32.jpg",
            "detail": "ì„ìˆ˜ë™ ì¶©í›ˆë¶€ ë³µì§€ì„¼í„° ì˜† ì²­ë€ê³µì› 2ë‹¨ì² ë´‰ì…ë‹ˆë‹¤."
        },
        {
            "pos": [37.39733224081859, 126.91449240415265],
            "title": "ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ì•ˆì–‘ë™ ì–‘ì§€2ì†Œê³µì› 2ë‹¨ì² ë´‰",
            "img": "img/bar33.jpg",
            "detail": "ê²½ê¸° ì•ˆì–‘ì‹œ ë§Œì•ˆêµ¬ ì•ˆì–‘ë™ 948-1 ì–‘ì§€2ì†Œê³µì›ì— ìˆëŠ” 2ë‹¨ ì² ë´‰"
        }
    ]
    let map = new naver.maps.Map('map', {
        center: new naver.maps.LatLng(37.48, 127.035),
        zoom: 13
    });

    let bounds = map.getBounds(),
        southWest = bounds.getSW(),
        northEast = bounds.getNE(),
        lngSpan = northEast.lng() - southWest.lng(),
        latSpan = northEast.lat() - southWest.lat();

    let markers = [],
        infoWindows = [];
    let openedInfoWindow = null;

    let curPosInfoWindow = new naver.maps.InfoWindow();

    function onSuccessGeolocation(position) {
        let location = new naver.maps.LatLng(position.coords.latitude,
                                             position.coords.longitude);
        map.setCenter(location); // ì–»ì€ ì¢Œí‘œë¥¼ ì§€ë„ì˜ ì¤‘ì‹¬ìœ¼ë¡œ ì„¤ì •í•©ë‹ˆë‹¤.
        //map.setZoom(15); // ì§€ë„ì˜ ì¤Œ ë ˆë²¨ì„ ë³€ê²½í•©ë‹ˆë‹¤.
        if (curPosInfoWindow.getMap()) {
            curPosInfoWindow.close();
        }
        curPosInfoWindow.setContent(`<div style="padding:10px;"><b>í˜„ì¬ ìœ„ì¹˜</b><br>${location.toString()}</div>`);

        curPosInfoWindow.open(map, location);
        console.log('Coordinates: ' + location.toString());
    }

    function onErrorGeolocation() {
        // let center = map.getCenter();

        // infowindow.setContent('<div style="padding:20px;">' +
        //     '<h5 style="margin-bottom:5px;color:#f00;">Geolocation failed!</h5>'+ "latitude: "+ center.lat() +"<br />longitude: "+ center.lng() +'</div>');

        // infowindow.open(map, center);
    }

    let setCurrentPosition = function() {
        if (navigator.geolocation) {
            /**
             * navigator.geolocation ì€ Chrome 50 ë²„ì ¼ ì´í›„ë¡œ HTTP í™˜ê²½ì—ì„œ ì‚¬ìš©ì´ Deprecate ë˜ì–´ HTTPS í™˜ê²½ì—ì„œë§Œ ì‚¬ìš© ê°€ëŠ¥ í•©ë‹ˆë‹¤.
             * http://localhost ì—ì„œëŠ” ì‚¬ìš©ì´ ê°€ëŠ¥í•˜ë©°, í…ŒìŠ¤íŠ¸ ëª©ì ìœ¼ë¡œ, Chrome ì˜ ë°”ë¡œê°€ê¸°ë¥¼ ë§Œë“¤ì–´ì„œ ì•„ë˜ì™€ ê°™ì´ ì„¤ì •í•˜ë©´ ì ‘ì†ì€ ê°€ëŠ¥í•©ë‹ˆë‹¤.
             * chrome.exe --unsafely-treat-insecure-origin-as-secure="http://example.com"
             */
            navigator.geolocation.getCurrentPosition(onSuccessGeolocation, onErrorGeolocation);

        } else {
            console.log("Geolocationì´ ì§€ì›ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.");
            alert("Cannot get current position");
            // let center = map.getCenter();
            // infowindow.setContent('<div style="padding:20px;"><h5 style="margin-bottom:5px;color:#f00;">Geolocation not supported</h5></div>');
            // infowindow.open(map, center);
        }
    };
    document.addEventListener("DOMContentLoaded", setCurrentPosition);

    

    for (let i in MarkerData) {
        let data = MarkerData[i];
        let position = new naver.maps.LatLng(data.pos[0], data.pos[1]);

        let marker = new naver.maps.Marker({
            map: map,
            position: position,
            title: data.title,
            zIndex: 100
        });

        let infoWindow = new naver.maps.InfoWindow({
            content: `<div class="infowindow"><b>${data.title}</b><p>${data.detail}</p><br><img class="bar-img" src="${data.img}" alt="${data.title}"/></div>`
        });

        markers.push(marker);
        infoWindows.push(infoWindow);
    };

    naver.maps.Event.addListener(map, 'idle', function() {
        updateMarkers(map, markers);
    });

    function updateMarkers(map, markers) {

        let mapBounds = map.getBounds();
        let marker, position;

        for (let i = 0; i < markers.length; i++) {

            marker = markers[i]
            position = marker.getPosition();

            if (mapBounds.hasLatLng(position)) {
                showMarker(map, marker);
            } else {
                hideMarker(map, marker);
            }
        }
    }

    function showMarker(map, marker) {

        if (marker.setMap()) return;
        marker.setMap(map);
    }

    function hideMarker(map, marker) {

        if (!marker.setMap()) return;
        marker.setMap(null);
    }

    // í•´ë‹¹ ë§ˆì»¤ì˜ ì¸ë±ìŠ¤ë¥¼ seqë¼ëŠ” í´ë¡œì € ë³€ìˆ˜ë¡œ ì €ì¥í•˜ëŠ” ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ë¥¼ ë°˜í™˜í•©ë‹ˆë‹¤.
    function getClickHandler(seq) {
        return function(e) {
            let marker = markers[seq],
                infoWindow = infoWindows[seq];

            if (infoWindow.getMap()) {
                infoWindow.close();
            } else {
                openedInfoWindow = infoWindow;
                infoWindow.open(map, marker);
            }
        }
    }


    for (let i=0, ii=markers.length; i<ii; i++) {
        naver.maps.Event.addListener(markers[i], 'click', getClickHandler(i));
    }

    naver.maps.Event.addListener(map, 'click', function() {
        curPosInfoWindow.close();
        if (openedInfoWindow && openedInfoWindow.getMap()) {
            openedInfoWindow.close();
        }
    });


</script>
<!-- <script type="text/javascript" src="https://wcs.naver.net/wcslog.js"></script> -->


</body>
</html>

